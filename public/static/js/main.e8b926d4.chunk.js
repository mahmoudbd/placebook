(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],Array(30).concat([function(e,t,a){},,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/Find.926a491e.png"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,a){e.exports=a.p+"static/media/Plan.3955ee95.png"},,,,,,function(e,t,a){e.exports=a.p+"static/media/three dots.6cb12a27.png"},,,,function(e,t,a){e.exports=a.p+"static/media/logo.a87ed0eb.png"},,,,,function(e,t,a){e.exports=a(109)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),s=(a(30),a(1)),i=a(7),o=a(6),u=(a(61),a(62),function(e){return r.a.createElement("div",{className:"avatar ".concat(e.className),style:e.style},r.a.createElement("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}}))}),m=a(39),d=a.n(m),p=a(40),E=a.n(p),f=a(41),h=a.n(f),v=function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("h1",null," Placebook help you connect and share your places with people"),r.a.createElement("div",{className:"home-container__divAvatar"},r.a.createElement("div",{className:"home-container__avatar"},r.a.createElement(u,{image:d.a,alt:"",className:"home-container__avatarImg"}),r.a.createElement("p",null,"Find people and communicate with each other")),r.a.createElement("div",{className:"home-container__avatar"},r.a.createElement(u,{image:E.a,alt:"",className:"home-container__avatarImg"}),r.a.createElement("p",null,"Share your experience with your friends")),r.a.createElement("div",{className:"home-container__avatar"},r.a.createElement(u,{image:h.a,alt:"",className:"home-container__avatarImg"}),r.a.createElement("p",null,"Plan your future trips"))))},b=a(2),g=a.n(b),O=a(5),j=Object(n.createContext)({isLoggedIn:!1,userName:null,userImage:null,userId:null,token:null,login:function(){},logout:function(){}}),C=(a(64),function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}),k=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),l=Object(s.a)(c,2),i=l[0],o=l[1],u=Object(n.useRef)([]),m=Object(n.useCallback)(function(){var e=Object(O.a)(g.a.mark((function e(t){var a,n,c,l,s,i,m=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>1&&void 0!==m[1]?m[1]:"GET",n=m.length>2&&void 0!==m[2]?m[2]:null,c=m.length>3&&void 0!==m[3]?m[3]:{},r(!0),l=new AbortController,u.current.push(l),e.prev=6,e.next=9,fetch(t,{method:a,body:n,headers:c,signal:l.signal});case 9:return s=e.sent,e.next=12,s.json();case 12:if(i=e.sent,u.current=u.current.filter((function(e){return e!==l})),s.ok){e.next=16;break}throw new Error(i.message);case 16:return r(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(6),o(e.t0.message),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){return function(){u.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:i,sendRequest:m,clearError:function(){o(null)}}},w=(a(65),function(e){return r.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},r.a.createElement("div",{className:"lds-dual-ring"}))}),N=a(123),y=(a(66),function(e){return l.a.createPortal(r.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),I=(a(67),function(e){var t=r.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h2",null,e.header)),r.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return l.a.createPortal(t,document.getElementById("modal-hook"))}),x=function(e){return r.a.createElement(r.a.Fragment,null,e.show&&r.a.createElement(y,{onClick:e.onCancel}),r.a.createElement(N.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},r.a.createElement(I,e)))},S=(a(70),function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(o.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.className)},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}),A=function(e){return r.a.createElement(x,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:r.a.createElement(S,{onClick:e.onClear},"Okay")},r.a.createElement("p",null,e.error))},P=function(e){var t=e.receivedRequestId,a=e.getRequests,c=e.sentRequests,l=Object(n.useContext)(j),i=k(),o=i.isLoading,u=i.error,m=i.sendRequest,d=i.clearError,p=Object(n.useState)(a.some((function(e){return e.user===l.userId}))),E=Object(s.a)(p,2),f=E[0],h=E[1],v=Object(n.useState)(c.some((function(e){return e.user===l.userId}))),b=Object(s.a)(v,1)[0],C=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,m("http://localhost:5000/api/friends/","PATCH",JSON.stringify({userId:l.userId,friendId:t}),{"Content-Type":"application/json",Authorization:"Bearer "+l.token});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.prev=1,e.next=4,m("http://localhost:5000/api/friends/requests/reject","DELETE",JSON.stringify({userId:t,friendId:l.userId}),{"Content-Type":"application/json",Authorization:"Bearer "+l.token});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:u,onClear:d}),r.a.createElement(r.a.Fragment,null,l.userId!==t?f&&!b?r.a.createElement("button",{className:"button--danger",onClick:N},o?r.a.createElement(w,null):"Requested"):r.a.createElement("button",{className:"button--turquoise",onClick:C},o?r.a.createElement(w,null):"Add Friend"):r.a.createElement("p",null,"My Profile")))},T=(a(73),function(e){var t=e.sentRequests,a=e.getRequests,c=e.friends,l=Object(n.useContext)(j),s="h"===e.image[0]?e.image:"".concat("http://localhost:5000","/").concat(e.image);return r.a.createElement("li",{className:"user-item"},r.a.createElement(C,{className:"user-item__content"},r.a.createElement(o.b,{to:"/".concat(e.id,"/places")},r.a.createElement("div",{className:"user-item__image"},r.a.createElement(u,{image:s,alt:e.name})),r.a.createElement("div",{className:"user-item__info"},r.a.createElement("h2",null,e.name),r.a.createElement("h3",null,e.placeCount," ",1===e.placeCount?"Place":"Places"))),r.a.createElement("div",{className:"user-item__addfriend"},c.some((function(e){return e.user===l.userId}))?r.a.createElement("p",null,"Friend"):t.some((function(e){return e.user===l.userId}))?r.a.createElement("p",null,"Sent you a request"):r.a.createElement(P,{receivedRequestId:e.id,getRequests:a,sentRequests:t}))))}),L=(a(74),function(e){return 0===e.items.length?r.a.createElement("div",{className:"center"},r.a.createElement(C,null,r.a.createElement("h2",null,"No users found."))):r.a.createElement("ul",{className:"users-list"},e.items.map((function(e){return r.a.createElement(T,{key:e.id,id:e.id,image:e.image,name:e.name,placeCount:e.places.length,getRequests:e.getRequests,sentRequests:e.sentRequests,friends:e.friends})})))}),B=Object(n.createContext)({searchState:{},inputHandler:function(){},currentPage:1,setCurrentPage:function(){}}),z=Object(n.createContext)({notifFollower:null,setNotifFollower:function(){}}),D=function(){var e=k(),t=e.isLoading,a=e.error,c=e.sendRequest,l=e.clearError,i=Object(n.useState)(),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useContext)(B).inputHandler,p=Object(n.useContext)(z).notifFollower;return Object(n.useEffect)((function(){d("search","",!1)}),[d]),Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("".concat("http://localhost:5000/api","/users"));case 3:t=e.sent,m(t.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:a,onClear:l}),t&&r.a.createElement("div",{className:"center"},r.a.createElement(w,null)),!t&&u&&r.a.createElement(L,{items:u}))},M=a(11),V=a(42),U=function(e){return{type:"MINLENGTH",val:e}},R=function(e,t){var a,n=!0,r=Object(V.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;"REQUIRE"===c.type&&(n=n&&e.trim().length>0),"MINLENGTH"===c.type&&(n=n&&e.trim().length>=c.val),"MAXLENGTH"===c.type&&(n=n&&e.trim().length<=c.val),"MIN"===c.type&&(n=n&&+e>=c.val),"MAX"===c.type&&(n=n&&+e<=c.val),"EMAIL"===c.type&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(l){r.e(l)}finally{r.f()}return n},G=(a(75),function(e,t){switch(t.type){case"CHANGE":return Object(M.a)(Object(M.a)({},e),{},{value:t.val,isValid:R(t.val,t.validators)});case"TOUCH":return Object(M.a)(Object(M.a)({},e),{},{isTouched:!0});default:return e}}),_=function(e){var t=Object(n.useReducer)(G,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(s.a)(t,2),c=a[0],l=a[1],i=e.id,o=e.onInput,u=c.value,m=c.isValid;Object(n.useEffect)((function(){o(i,u,m)}),[i,u,m,o]);var d=function(t){l({type:"CHANGE",val:t.target.value,validators:e.validators})},p=function(){l({type:"TOUCH"})},E="input"===e.element?r.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:d,onBlur:e.onBlur?null:p,value:c.value}):r.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:d,onBlur:e.onBlur?null:p,value:c.value});return r.a.createElement("div",{className:"form-control ".concat(!c.isValid&&c.isTouched&&"form-control--invalid")},r.a.createElement("label",{htmlFor:e.id},e.label),E,!c.isValid&&c.isTouched&&r.a.createElement("p",null,e.errorText))},Z=(a(76),function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),E=p[0],f=p[1],h=Object(n.useRef)();Object(n.useEffect)((function(){if(c){var e=new FileReader;e.onload=function(){m(e.result)},e.readAsDataURL(c)}}),[c]);return r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{id:e.id,ref:h,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,n=E;t.target.files&&1===t.target.files.length?(a=t.target.files[0],l(a),f(!0),n=!0):(f(!1),n=!1),e.onInput(e.id,a,n)}}),r.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},r.a.createElement("div",{className:"image-upload__preview"},u&&r.a.createElement("img",{src:u,alt:"Preview"}),!u&&r.a.createElement("p",null,"Please pick an image.")),r.a.createElement(S,{type:"button",onClick:function(){h.current.click()}},"PICK IMAGE")),!E&&r.a.createElement("p",null,e.errorText))}),F=a(21),Q=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(M.a)(Object(M.a)({},e),{},{inputs:Object(M.a)(Object(M.a)({},e.inputs),{},Object(F.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},q=function(e,t){var a=Object(n.useReducer)(Q,{inputs:e,isValid:t}),r=Object(s.a)(a,2),c=r[0],l=r[1];return[c,Object(n.useCallback)((function(e,t,a){l({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(n.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},Y=(a(37),function(){var e=Object(n.useContext)(j),t=Object(n.useContext)(B).inputHandler,a=k(),c=a.isLoading,l=a.error,o=a.sendRequest,u=a.clearError,m=q({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),d=Object(s.a)(m,2),p=d[0],E=d[1];Object(n.useEffect)((function(){t("search","",!1)}),[t]);var f=Object(i.g)(),h=function(){var t=Object(O.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,(n=new FormData).append("title",p.inputs.title.value),n.append("description",p.inputs.description.value),n.append("address",p.inputs.address.value),n.append("image",p.inputs.image.value),t.next=9,o("".concat("http://localhost:5000/api","/places"),"POST",n,{Authorization:"Bearer "+e.token});case 9:f.push("/"),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(1);case 14:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:l,onClear:u}),r.a.createElement("form",{className:"place-form",onSubmit:h},c&&r.a.createElement(w,{asOverlay:!0}),r.a.createElement(_,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:E}),r.a.createElement(_,{id:"description",element:"textarea",label:"Description",validators:[U(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:E}),r.a.createElement(_,{id:"address",element:"input",label:"Address",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid address.",onInput:E}),r.a.createElement(Z,{id:"image",onInput:E,errorText:"Please provide an image."}),r.a.createElement(S,{type:"submit",disabled:!p.isValid},"ADD PLACE")))}),H=a(22),K=a(45),J=a.n(K);function X(e){return r.a.createElement(x,{onCancel:e.onClear,header:"Are you sure!",show:e.show,footer:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{onClick:e.confirm},"Yes"),r.a.createElement(S,{onClick:e.onClear},"No"))},r.a.createElement("p",null,e.message))}a(77);var W=function(e){var t=e.placeId,a=e.rate,c=Object(n.useContext)(j),l=k(),o=l.isLoading,u=l.error,m=l.sendRequest,d=l.clearError,p=Object(n.useState)(a.averageRating),E=Object(s.a)(p,2),f=E[0],h=E[1],v=Object(n.useState)(0),b=Object(s.a)(v,2),C=b[0],N=b[1],y=Object(n.useState)(!1),I=Object(s.a)(y,2),P=I[0],T=I[1],L=Object(n.useState)(!1),B=Object(s.a)(L,2),z=B[0],D=B[1],M=Object(n.useState)(a.raterRates.length),V=Object(s.a)(M,2),U=V[0],R=V[1],G=Object(i.g)(),_=function(){return D(!1)},Z=function(){var e=Object(O.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(),e.prev=1,e.next=4,m("http://localhost:5000/api/places/rate/".concat(t),"PATCH",JSON.stringify({raterId:c.userId,raterRating:a||C}),{"Content-Type":"application/json",Authorization:"Bearer "+c.token});case 4:n=e.sent,h(n.rate.averageRating),R(n.rate.raterRates.length),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(w,{asOverlay:!0}),r.a.createElement(A,{error:u,onClear:d}),r.a.createElement(x,{show:P,onCancel:function(){return T(!1)},footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{inverse:!0,onClick:function(){G.push("/auth")}},"Log In")},r.a.createElement("p",null,"You must be logged in to be able to rate ")),r.a.createElement(X,{show:z,onClear:_,confirm:function(){return Z(C)},message:" You've already rate this pleace, Do you want to change your rating anyway.."}),r.a.createElement("div",{className:"StarRating center"},r.a.createElement(J.a,{className:"star",value:f,count:5,onChange:function(e){c.token?a.raterIds.includes(c.userId)?(N(e),D(!0)):(h(e),Z(e)):T(!0)},size:30,half:!0,emptyIcon:r.a.createElement("i",{className:"far fa-star"}),halfIcon:r.a.createElement("i",{className:"fa fa-star-half-alt"}),fullIcon:r.a.createElement("i",{className:"fa fa-star"}),color1:"#e4e5e9",color2:"#ffc107"}),r.a.createElement("span",{className:"ratings"},"("+U+" ratings)")))},$=(a(78),function(e){var t=Object(n.useRef)(),a=e.center,c=e.zoom;return Object(n.useEffect)((function(){var e=new window.google.maps.Map(t.current,{center:a,zoom:c});new window.google.maps.Marker({position:a,map:e})}),[a,c]),r.a.createElement("div",{ref:t,className:"map ".concat(e.className),style:e.style})}),ee=a(46),te=a.n(ee),ae=a(47),ne=a.n(ae);a(81);var re=function(e){var t=Object(n.useContext)(j),a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],i=c[1],o=e.date,u="h"===e.image[0]?e.image:"".concat("http://localhost:5000","/").concat(e.image),m=t.userId!==e.userId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"review"},r.a.createElement("img",{className:"userImage",src:u||"https://bit.ly/3f7YYNi",alt:"user"}),r.a.createElement("p",{className:"userName"}," ",e.creator?e.creator.name:null),r.a.createElement("p",{className:"reviewBody"}," ",e.reviewBody," "),l&&r.a.createElement("div",{className:"dropList"},r.a.createElement("button",{disabled:m,className:m?"btn-notActive":"btn-active",onClick:function(){e.deleteReview(e.id),i(!1)}},"Delete")),r.a.createElement("img",{id:"closeButton",src:ne.a,alt:"X",onMouseEnter:function(){i((function(e){return!e})),setTimeout((function(){i(!1)}),3e3)}})),r.a.createElement(te.a,{className:"date",format:"YYYY/MM/DD HH:mm"},o)))};a(82);var ce=function(e){var t=Object(n.useContext)(j),a=k(),c=a.isLoading,l=a.error,i=a.sendRequest,o=a.clearError,u=t.userId,m=e.placeId,d=Object(n.useState)(),p=Object(s.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(0),v=Object(s.a)(h,2),b=v[0],C=v[1],N=Object(n.useState)(!0),y=Object(s.a)(N,2),I=y[0],x=y[1],P=Object(n.useState)(),T=Object(s.a)(P,2),L=T[0],B=T[1];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("".concat("http://localhost:5000/api","/reviews/").concat(m));case 3:t=e.sent,f(t.reviews),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[i,m,b]);var z=function(){var e=Object(O.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.target.reset(),x(!!L),!I){e.next=12;break}return n=new Date,e.prev=4,e.next=7,i("".concat("http://localhost:5000/api","/reviews/newReview"),"POST",JSON.stringify({date:n,userId:u,placeId:m,reviewTxt:L}),{Authorization:"Bearer "+t.token,"Content-Type":"application/json"});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:C((function(e){return e+1}));case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(O.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return e.filter((function(e){return e.id!==a}))})),e.prev=1,e.next=4,i("".concat("http://localhost:5000/api","/reviews/").concat(a,"/").concat(u),"DELETE",null,{Authorization:"Bearer "+t.token});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Comments"),r.a.createElement(A,{error:l,onClear:o}),E?0===E.length&&r.a.createElement("p",null,r.a.createElement("strong",null,"No reviews yet. Be the first to review! ")):null,E&&E.map((function(e){return r.a.createElement(re,{key:e.id,id:e.id,deleteReview:D,image:e.creator?e.creator.image:null,reviewBody:e.reviewTxt,userId:e.userId,date:e.date,creator:e.creator})})),c&&r.a.createElement(w,{asOverlay:!0}),t.isLoggedIn&&r.a.createElement("form",{onSubmit:z},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{onChange:function(e){B(e.target.value)}})),r.a.createElement(S,{inverse:!0,type:"submit"},"POST REVIEW")))},le=(a(83),function(e){var t=k(),a=t.isLoading,c=t.error,l=t.sendRequest,i=t.clearError,o=Object(n.useContext)(j),u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(!1),f=Object(s.a)(E,2),h=f[0],v=f[1],b=Object(n.useState)(!1),N=Object(s.a)(b,2),y=N[0],I=N[1],P=Object(n.useState)(!1),T=Object(s.a)(P,2),L=T[0],B=T[1],z=Object(n.useState)(!1),D=Object(s.a)(z,2),M=D[0],V=D[1],U=function(){return p(!1)},R=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),t.prev=1,t.next=4,l("".concat("http://localhost:5000/api","/users/bucketList/").concat(e.id),"PATCH",null,{Authorization:"Bearer "+o.token});case 4:V(!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),G=function(){I(!1)},_=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(!1),t.prev=1,t.next=4,l("".concat("http://localhost:5000/api","/places/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+o.token});case 4:e.onDelete(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("meta",{property:"og:type",content:"Social Media APP"}),r.a.createElement("meta",{property:"og:title",content:e.title}),r.a.createElement("meta",{property:"og:description",content:e.description}),r.a.createElement("meta",{property:"og:image",content:e.image})),r.a.createElement(A,{error:c,onClear:i}),r.a.createElement(x,{show:d,onCancel:U,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{onClick:U},"CLOSE")},r.a.createElement("div",{className:"map-container"},r.a.createElement($,{center:e.coordinates,zoom:16}))),r.a.createElement(x,{className:"reviewsModal",show:h,onCancel:function(){return v(!1)},header:"Reviews"},r.a.createElement("div",null,r.a.createElement(ce,{placeUrl:"".concat("http://localhost:5000","/").concat(e.image),placeId:e.id,className:"review-list"}))),r.a.createElement(x,{show:y,onCancel:G,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{inverse:!0,onClick:G},"CANCEL"),r.a.createElement(S,{danger:!0,onClick:_},"DELETE"))},r.a.createElement("p",null,"Do you want to proceed and delete this place? Please note that it can't be undone thereafter.")),M&&r.a.createElement(x,{show:L,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{onClick:function(){V(!1),B(!1)}},"Okay")},r.a.createElement("p",null,"Place added to your bucket list.")),r.a.createElement("li",{className:"place-item"},r.a.createElement(C,{className:"place-item__content"},a&&r.a.createElement(w,{asOverlay:!0}),r.a.createElement("div",{className:"place-item__image"},r.a.createElement("img",{src:"".concat(e.image),alt:e.title})),r.a.createElement("div",{className:"place-item__info"},r.a.createElement(W,{placeId:e.id,rate:e.rate}),r.a.createElement("h2",null,e.title),r.a.createElement("h3",null,e.address),r.a.createElement("p",null,e.description)),r.a.createElement("div",{className:"place-item__actions"},r.a.createElement(S,{inverse:!0,onClick:function(){return p(!0)}},"VIEW ON MAP"),r.a.createElement(S,{to:"/places/".concat(e.creatorId,"/").concat(e.id,"/")},"DETAILS"),r.a.createElement(S,{onClick:function(){return v(!0)}},"REVIEWS"),o.userId===e.creatorId&&r.a.createElement(S,{to:"/places/".concat(e.id)},"EDIT"),o.userId===e.creatorId&&r.a.createElement(S,{danger:!0,onClick:function(){return I(!0)}},"DELETE"),o.userId!==e.creatorId&&o.isLoggedIn&&r.a.createElement(S,{inverse:!0,onClick:R},"ADD TO MY BUCKET LIST"),!o.isLoggedIn&&r.a.createElement(S,{inverse:!0,onClick:R},"ADD TO MY BUCKET LIST")))))}),se=(a(84),function(e){var t=e.items,a=e.userPlaces,c=e.onDeletePlace,l=e.forSearchResults;return 0===t.length?r.a.createElement("div",{className:"place-list center"},r.a.createElement(C,null,r.a.createElement("h2",null,"No places found. Maybe create one?"),r.a.createElement(S,{to:"/places/new"},"Share Place"))):r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"place-list"},r.a.createElement("h2",{className:l?"unvisibleHeader":"view-title"},a?" ".concat(a,"'s Places"):"My Place"),t.map((function(e){return r.a.createElement(le,{key:e.id,id:e.id,image:e.image,title:e.title,description:e.description,address:e.address,creatorId:e.creator,coordinates:e.location,onDelete:c,rate:e.rate})}))))}),ie=(a(85),function(e){return e.href?r.a.createElement("a",{className:"switch switch--".concat(e.size||"default"," ").concat(e.inverse&&"switch--inverse"," ").concat(e.danger&&"switch--danger"),href:e.href},e.children):e.to?r.a.createElement(o.b,{to:e.to,exact:e.exact,className:"switch switch--".concat(e.size||"default"," ").concat(e.inverse&&"switch--inverse"," ").concat(e.white&&"switch--white"," ").concat(e.className),onClick:e.onClick},e.children):r.a.createElement("button",{className:"switch button--".concat(e.size||"default"," ").concat(e.inverse&&"switch--inverse"," ").concat(e.danger&&"switch--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}),oe=(a(86),function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(s.a)(l,2),u=o[0],m=o[1],d=k(),p=d.isLoading,E=d.error,f=d.sendRequest,h=d.clearError,v=Object(n.useContext)(B).inputHandler;Object(n.useEffect)((function(){v("search","",!1)}),[v]);var b=Object(i.h)().userId;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat("http://localhost:5000/api","/places/user/").concat(b));case 3:t=e.sent,c(t.places),m(t.name),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[f,b]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"userPlaces-container"},r.a.createElement("div",{className:"switchView"},r.a.createElement(ie,{to:"/".concat(b,"/bucketList"),className:"toBucketList",size:"middle"},"TO THIS USER'S BUCKET LIST"),r.a.createElement(ie,{to:"/".concat(b,"/bucketList"),className:"toBucketListMobile",size:"middle"},"TO THIS USER'S BUCKET LIST"),r.a.createElement(ie,{to:"/".concat(b,"/places"),className:"toPlaceList",size:"middle",inverse:!0},"TO THIS USER'S PLACE LIST"),r.a.createElement(ie,{to:"/".concat(b,"/places"),className:"toPlaceListMobile",size:"middle",inverse:!0},"TO THIS USER'S PLACE LIST")),r.a.createElement(A,{error:E,onClear:h}),p&&r.a.createElement("div",{className:"center"},r.a.createElement(w,null)),!p&&a&&r.a.createElement(se,{items:a,userPlaces:u,onDeletePlace:function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))}})))}),ue=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],l=k(),o=l.isLoading,u=l.error,m=l.sendRequest,d=l.clearError,p=Object(n.useContext)(B).inputHandler,E=Object(n.useState)(!1),f=Object(s.a)(E,2),h=f[0],v=f[1],b=Object(i.g)();Object(n.useEffect)((function(){p("search","",!1)}),[p]);var j=Object(i.h)().placeId;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat("http://localhost:5000/api","/places/").concat(j));case 3:t=e.sent,c([t.place]),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[m,j]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:u,onClear:d}),r.a.createElement(x,{show:h,header:"Delete Notification",footer:r.a.createElement(S,{onClick:function(){v(!1),b.goBack()}},"Okay")},r.a.createElement("p",null,"Your Place is deleted!")),o&&r.a.createElement("div",{className:"center"},r.a.createElement(w,null)),!o&&a&&r.a.createElement(se,{items:a,onDeletePlace:function(e){v(!0)}}))},me=a(14),de=a(48),pe=a(18),Ee=(a(90),function(e){var t=e.ownerId,a=e.isVisited,c=k(),l=c.isLoading,i=c.error,o=c.sendRequest,u=c.clearError,m=Object(n.useContext)(j),d=Object(n.useState)(!1),p=Object(s.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(!1),v=Object(s.a)(h,2),b=v[0],N=v[1],y=Object(n.useState)(a),I=Object(s.a)(y,2),P=I[0],T=I[1],L=Object(n.useState)(!1),B=Object(s.a)(L,2),z=B[0],D=B[1],M=Object(n.useState)(!1),V=Object(s.a)(M,2),U=V[0],R=V[1],G=Object(n.useState)(!1),_=Object(s.a)(G,2),Z=_[0],F=_[1],Q=Object(n.useState)(!1),q=Object(s.a)(Q,2),Y=q[0],H=q[1],K=function(){return f(!1)},J=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!0),t.prev=1,t.next=4,o("".concat("http://localhost:5000/api","/users/bucketList/").concat(e.id),"PATCH",null,{Authorization:"Bearer "+m.token});case 4:H(!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),X=function(){N(!1)},W=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!1),t.prev=1,t.next=4,o("".concat("http://localhost:5000/api","/users/bucketlist/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+m.token});case 4:e.onDelete(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.prev=1,t.next=4,o("".concat("http://localhost:5000/api","/users/bucketlist/").concat(e.id),"PUT",null,{Authorization:"Bearer "+m.token});case 4:D(!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),te=function(){D(!1),R(!1),F(!1)},ae=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!1),t.prev=1,t.next=4,o("".concat("http://localhost:5000/api","/users/bucketlist/").concat(e.id),"PUT",null,{Authorization:"Bearer "+m.token});case 4:R(!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:i,onClear:u}),r.a.createElement(x,{show:E,onCancel:K,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{onClick:K},"CLOSE")},r.a.createElement("div",{className:"map-container"},r.a.createElement($,{center:e.coordinates,zoom:16}))),r.a.createElement(x,{show:b,onCancel:X,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{inverse:!0,onClick:X},"CANCEL"),r.a.createElement(S,{danger:!0,onClick:W},"DELETE"))},r.a.createElement("p",null,"Do you want to proceed and delete this place? Please note that it can't be undone thereafter.")),!P&&r.a.createElement(x,{show:U,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{onClick:te},"Okay")},r.a.createElement("p",null,"Place set to unvisited.")),P&&r.a.createElement(x,{show:z,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{onClick:te},"Okay")},r.a.createElement("p",null,"Place set to visited.")),Y&&r.a.createElement(x,{show:Z,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:r.a.createElement(S,{onClick:te},"Okay")},r.a.createElement("p",null,"Place added to your bucket list.")),r.a.createElement("li",{className:"place-item"},r.a.createElement(C,{className:"place-item__content"},l&&r.a.createElement(w,{asOverlay:!0}),r.a.createElement("div",{className:"place-item__image"},r.a.createElement("img",{src:"".concat(e.image),alt:e.title})),r.a.createElement("div",{className:"place-item__info"},r.a.createElement("h2",null,e.title),r.a.createElement("h3",null,e.address),r.a.createElement("p",null,e.description),r.a.createElement("h5",null,"Created By ".concat(e.name))),r.a.createElement("div",{className:"place-item__actions"},r.a.createElement(S,{inverse:!0,onClick:function(){return f(!0)}},"VIEW ON MAP"),m.userId===t&&r.a.createElement(S,{danger:!0,onClick:function(){N(!0)}},"DELETE"),m.isLoggedIn&&t!==m.userId&&r.a.createElement(S,{inverse:!0,onClick:J},"ADD TO MY BUCKET LIST"),!m.isLoggedIn&&r.a.createElement(S,{inverse:!0,onClick:J},"ADD TO MY BUCKET LIST"),m.userId===t&&!P&&r.a.createElement("div",{className:"checkBox"},r.a.createElement("h3",null,"I've been there: "),r.a.createElement(me.a,{icon:de.a,size:"2x",className:"visit",onClick:ee})),m.userId===t&&P&&r.a.createElement("div",{className:"checkBox"},r.a.createElement("h3",null,"I've been there: "),r.a.createElement(me.a,{icon:pe.a,size:"2x",className:"visited",onClick:ae}))))))}),fe=(a(91),function(e){var t=e.userId;return 0===e.items.length?r.a.createElement("div",{className:"place-list center"},r.a.createElement(C,null,r.a.createElement("h2",null,"No bucket list places found."))):r.a.createElement("ul",{className:"place-list"},r.a.createElement("h2",{className:"view-title"}," ".concat(e.nameOfListOwner,"'s Bucket List")),e.items.map((function(a){return r.a.createElement(Ee,{key:a.id._id,id:a.id._id,image:a.id.image,title:a.id.title,description:a.id.description,address:a.id.address,creatorId:a.id.creator,coordinates:a.id.location,ownerId:t,onDelete:e.onDeletePlace,isVisited:a.isVisited,name:a.createdBy})})))}),he=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(s.a)(l,2),u=o[0],m=o[1],d=k(),p=d.isLoading,E=d.error,f=d.sendRequest,h=d.clearError,v=Object(i.h)().userId;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat("http://localhost:5000/api","/users/bucketlist/").concat(v));case 3:t=e.sent,c(t.BucketList),m(t.name),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[f,v]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"switchView"},r.a.createElement(ie,{to:"/".concat(v,"/bucketList"),className:"toBucketList",size:"middle",inverse:!0},"TO THIS USER'S BUCKET LIST"),r.a.createElement(ie,{to:"/".concat(v,"/bucketList"),className:"toBucketListMobile",size:"middle",inverse:!0},"TO THIS USER'S BUCKET LIST"),r.a.createElement(ie,{to:"/".concat(v,"/places"),className:"toPlaceList",size:"middle"},"TO THIS USER'S PLACE LIST"),r.a.createElement(ie,{to:"/".concat(v,"/places"),className:"toPlaceListMobile",size:"middle"},"TO THIS USER'S PLACE LIST")),r.a.createElement(A,{error:E,onClear:h}),p&&r.a.createElement("div",{className:"center"},r.a.createElement(w,null)),!p&&a&&r.a.createElement(fe,{items:a,onDeletePlace:function(e){c((function(t){return t.filter((function(t){return t.id._id!==e}))}))},userId:v,nameOfListOwner:u}))},ve=function(e){var t=Object(n.useContext)(j),a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],E=d[1],f=function(){i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"friend-item"},r.a.createElement(C,{className:"friend-item__content"},r.a.createElement(o.b,{to:"/".concat(e.id,"/places")},r.a.createElement("div",{className:"friend-item__image"},r.a.createElement(u,{image:"".concat(e.image),alt:e.name})),r.a.createElement("div",{className:"friend-item__info"},r.a.createElement("h2",null,e.name),r.a.createElement("h3",null,e.placeCount," ",1===e.placeCount?"Place":"Places"))),r.a.createElement("div",{className:"friend-item__button"},r.a.createElement(S,{onClick:function(){E(e.name),i(!0)}},"DELETE")))),r.a.createElement(x,{show:l,header:"Are you sure?",onCancel:f},r.a.createElement("p",null," Are you sure you want to remove ",p," as your friend? "),r.a.createElement("div",{className:"right-aligned"},r.a.createElement(S,{inverse:!0,onClick:f},"Cancel"),r.a.createElement(S,{onClick:function(){e.deleteFriend(t.userId,e.id),i(!1)}}," Confirm "))))},be=(a(92),function(e){var t=k(),a=t.isLoading,n=t.error,c=t.clearError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:n,onClear:c}),a&&r.a.createElement(w,null),r.a.createElement("ul",{className:"friends-list"},e.items.map((function(t){return r.a.createElement(ve,{deleteFriend:e.deleteFriend,key:t.userId,id:t.userId,name:t.name,image:t.image})}))))}),ge=(a(93),function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,c=e.currentPage,l=[],s=1;s<=Math.ceil(a/t);s++)l.push(s);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},l.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("button",{type:"submit",onClick:function(){n(e),window.scrollTo(0,0)},className:"page-number ".concat(e===c?"active":"")},e)," ")}))))}),Oe=(a(94),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=k(),i=l.isLoading,o=l.error,u=l.sendRequest,m=l.clearError,d=Object(n.useContext)(j),p=Object(n.useContext)(z).notifFollower,E=Object(n.useState)(0),f=Object(s.a)(E,2),h=f[0],v=f[1],b=Object(n.useState)(6),N=Object(s.a)(b,1)[0],y=Object(n.useState)(1),I=Object(s.a)(y,2),x=I[0],S=I[1],P=x*N,T=P-N;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("".concat("http://localhost:5000/api","/friends/").concat(d.userId));case 3:t=e.sent,c(t.friendsList),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[u,d.userId,h,p]);var L=function(){var e=Object(O.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("".concat("http://localhost:5000/api","/friends/delete"),"DELETE",JSON.stringify({userId:t,friendId:a}),{"Content-Type":"application/json",Authorization:"Bearer "+d.token});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:v((function(e){return e+1}));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),B=a.slice(T,P);return 0===a.length?r.a.createElement("div",{className:"center"},r.a.createElement(C,null,r.a.createElement("h2",null,"No Friend Found"))):r.a.createElement("div",{className:"center friends"},r.a.createElement("div",{className:"friends-list"},r.a.createElement(A,{error:o,onClear:m}),i&&r.a.createElement(w,null),!i&&a&&r.a.createElement(be,{deleteFriend:L,items:B})),!i&&a&&r.a.createElement("div",{className:"center"},r.a.createElement(ge,{postsPerPage:N,totalPosts:a.length,paginate:function(e){return S(e)},currentPage:x})))}),je=function(){var e=Object(n.useContext)(j),t=k(),a=t.isLoading,c=t.error,l=t.sendRequest,o=t.clearError,u=Object(n.useState)(),m=Object(s.a)(u,2),d=m[0],p=m[1],E=Object(i.h)().placeId,f=Object(i.g)(),h=q({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),v=Object(s.a)(h,3),b=v[0],N=v[1],y=v[2];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("".concat("http://localhost:5000/api","/places/").concat(E));case 3:t=e.sent,p(t.place),y({title:{value:t.place.title,isValid:!0},description:{value:t.place.description,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[l,E,y]);var I=function(){var t=Object(O.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,l("".concat("http://localhost:5000/api","/places/").concat(E),"PATCH",JSON.stringify({title:b.inputs.title.value,description:b.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:f.push("/"+e.userId+"/places"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return a?r.a.createElement("div",{className:"center"},r.a.createElement(w,null)):d||c?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:c,onClear:o}),!a&&d&&r.a.createElement("form",{className:"place-form",onSubmit:I},r.a.createElement(_,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:N,initialValue:d.title,initialValid:!0}),r.a.createElement(_,{id:"description",element:"textarea",label:"Description",validators:[U(5)],errorText:"Please enter a valid description (min. 5 characters).",onInput:N,initialValue:d.description,initialValid:!0}),r.a.createElement(S,{type:"submit",disabled:!b.isValid},"UPDATE PLACE"))):r.a.createElement("div",{className:"center"},r.a.createElement(C,null,r.a.createElement("h2",null,"Could not find place!")))},Ce=a(29),ke=(a(95),function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],i=e.description,o=window.document.location.href;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("meta",{property:"og:type",content:"Social Media APP"}),r.a.createElement("meta",{property:"og:url",content:o}),r.a.createElement("meta",{property:"og:title",content:e.title}),r.a.createElement("meta",{property:"og:description",content:i}),r.a.createElement("meta",{property:"og:image",content:e.image}),r.a.createElement("meta",{name:"twitter:card",content:"summary"}),r.a.createElement("meta",{name:"twitter:site",content:"PlaceSharer"})),r.a.createElement(A,{error:e.error,onClear:e.clearError}),r.a.createElement(x,{show:c,onCancel:function(){return l(!1)},header:"Share place on social media"},r.a.createElement("div",{className:"place-item__actions"},r.a.createElement("div",{className:"share-button-container"},r.a.createElement("div",{className:"share-icon fb-share-button","data-href":"http://localhost:3000/places/5eedf3e0a5f4a1c34519c8d9/5eee37b7bc24faca4cc36452/","data-layout":"button_count","data-size":"small"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(o,"&amp;src=sdkpreparse"),class:"fb-xfbml-parse-ignore"},r.a.createElement(me.a,{icon:Ce.a,color:"#3b5998",size:"4x",onClick:function(){return l(!1),!1}}))),r.a.createElement("div",{className:"share-icon"},r.a.createElement(me.a,{icon:Ce.c,color:"#38A1F3",size:"4x",onClick:function(){return window.open("http://www.twitter.com/share?u=".concat(o,"&via=PlaceSharer&text=").concat(i),"Twitter Share","width=620, height=620"),l(!1),!1}})),r.a.createElement("div",{className:"share-icon"},r.a.createElement("a",{"data-pin-do":"buttonPin",href:"https://www.pinterest.com/pin/create/button/?url=".concat(o,"&media=").concat(e.image,"&description=").concat(i),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(me.a,{icon:Ce.b,color:"#c8232c",size:"4x",onClick:function(){l(!1)}})))))),r.a.createElement("li",{className:"place-item"},r.a.createElement(C,{className:"place-item__content"},e.isLoading&&r.a.createElement(w,{asOverlay:!0}),r.a.createElement("div",{className:"place-item__image"},r.a.createElement("img",{src:"".concat(e.image),alt:e.title})),r.a.createElement("div",{className:"place-item__info"},r.a.createElement("div",{className:"title-block"},r.a.createElement("h2",null,e.title),r.a.createElement("div",{className:"font-awesome__share",onClick:function(){navigator.share?navigator.share({title:"".concat(e.title),text:"".concat(e.title," is a great place to visit"),url:o}):l(!0)}},r.a.createElement(me.a,{icon:pe.c,size:"2x"}))),r.a.createElement("h3",null,e.address),r.a.createElement("p",null,e.description)))))}),we=(a(96),function(){var e=Object(i.h)().placeId,t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],l=a[1],o=k(),u=o.isLoading,m=o.error,d=o.sendRequest,p=o.clearError;return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d("".concat("http://localhost:5000/api","/places/").concat(e));case 3:a=t.sent,l(a.place),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[d,e]),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(H.a,null,r.a.createElement("meta",{property:"og:type",content:"Social Media APP"}),r.a.createElement("meta",{property:"og:title",content:c.title}),r.a.createElement("meta",{property:"og:description",content:c.description}),r.a.createElement("meta",{property:"og:image",content:c.image})),r.a.createElement("div",{className:"placeDetail-container"},c&&r.a.createElement(ke,{key:c.id,id:c.id,image:c.image,title:c.title,description:c.description,address:c.address,creatorId:c.creator,coordinates:c.location,error:m,isLoading:u,clearError:p})))}),Ne=a(49),ye=a.n(Ne),Ie=a(50),xe=a.n(Ie),Se=(a(97),function(){var e=Object(n.useContext)(j),t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=a[0],l=a[1],i=k(),o=i.isLoading,u=i.error,m=i.sendRequest,d=i.clearError,p=q({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),E=Object(s.a)(p,3),f=E[0],h=E[1],v=E[2],b=function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!c){t.next=13;break}return t.prev=2,t.next=5,m("".concat("http://localhost:5000/api","/users/login"),"POST",JSON.stringify({email:f.inputs.email.value,password:f.inputs.password.value}),{"Content-Type":"application/json"});case 5:n=t.sent,e.login(n.userId,n.token),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:t.next=27;break;case 13:return t.prev=13,(r=new FormData).append("email",f.inputs.email.value),r.append("name",f.inputs.name.value),r.append("password",f.inputs.password.value),r.append("image",f.inputs.image.value),t.next=21,m("".concat("http://localhost:5000/api","/users/signup"),"POST",r);case 21:l=t.sent,e.login(l.userId,l.token),t.next=27;break;case 25:t.prev=25,t.t1=t.catch(13);case 27:case"end":return t.stop()}}),t,null,[[2,9],[13,25]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=a.picture.data.url}catch(s){}if(!c){t.next=13;break}return t.prev=2,t.next=5,m("".concat("http://localhost:5000/api","/socialMedia/login"),"POST",JSON.stringify({email:a.email,password:a.userID}),{"Content-Type":"application/json"});case 5:r=t.sent,e.login(r.userId,r.token),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:t.next=22;break;case 13:return t.prev=13,t.next=16,m("".concat("http://localhost:5000/api","/socialMedia/signup"),"POST",JSON.stringify({image:n,name:a.name,email:a.email,password:a.userID}),{"Content-Type":"application/json"});case 16:l=t.sent,e.login(l.userId,l.token),t.next=22;break;case 20:t.prev=20,t.t1=t.catch(13);case 22:case"end":return t.stop()}}),t,null,[[2,9],[13,20]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=12;break}return t.prev=1,t.next=4,m("".concat("http://localhost:5000/api","/socialMedia/login"),"POST",JSON.stringify({email:a.profileObj.email,password:a.profileObj.googleId}),{"Content-Type":"application/json"});case 4:n=t.sent,e.login(n.userId,n.token),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:t.next=21;break;case 12:return t.prev=12,t.next=15,m("".concat("http://localhost:5000/api","/socialMedia/signup"),"POST",JSON.stringify({image:a.profileObj.imageUrl,name:a.profileObj.name,email:a.profileObj.email,password:a.profileObj.googleId}),{"Content-Type":"application/json"});case 15:r=t.sent,e.login(r.userId,r.token),t.next=21;break;case 19:t.prev=19,t.t1=t.catch(12);case 21:case"end":return t.stop()}}),t,null,[[1,8],[12,19]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{error:u,onClear:d}),r.a.createElement(C,{className:"authentication"},o&&r.a.createElement(w,{asOverlay:!0}),c?r.a.createElement("h2",null,"LOGIN"):r.a.createElement("h2",null,"SIGN UP"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:b},!c&&r.a.createElement(_,{element:"input",id:"name",type:"text",label:"Your Name",validators:[{type:"REQUIRE"}],errorText:"Please enter a name.",onInput:h}),!c&&r.a.createElement(Z,{center:!0,id:"image",onInput:h,errorText:"Please provide an image."}),r.a.createElement(_,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[{type:"EMAIL"}],errorText:"Please enter a valid email address.",onInput:h}),r.a.createElement(_,{element:"input",id:"password",type:"password",label:"Password",validators:[U(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:h}),r.a.createElement(S,{type:"submit",disabled:!f.isValid},c?"LOGIN":"SIGNUP"),r.a.createElement("pre",null),r.a.createElement(ye.a,{appId:"288763052265295",fields:"name,email,picture",onClick:N,callback:N,cssClass:"my-facebook-button-class"}),r.a.createElement("pre",null),r.a.createElement(xe.a,{clientId:"524135467780-l6ng9s692tp2le5iidlardar8uo34ull.apps.googleusercontent.com",render:function(e){return r.a.createElement("button",{className:"my-google-button-class",onClick:e.onClick,disabled:e.disabled},"LOGIN WITH GOOGLE")},onSuccess:y,onFailure:y,cookiePolicy:"single_host_origin"})),r.a.createElement(S,{inverse:!0,onClick:function(){c?v(Object(M.a)(Object(M.a)({},f.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):v(Object(M.a)(Object(M.a)({},f.inputs),{},{name:void 0,image:void 0}),f.inputs.email.isValid&&f.inputs.password.isValid),l((function(e){return!e}))}},"SWITCH TO ",c?"SIGNUP":"LOGIN")))}),Ae=a(51),Pe=a.n(Ae),Te=(a(98),function(e){return r.a.createElement("header",{className:"main-header"},e.children)}),Le=(a(99),function(e){var t=e.isMobile,a=e.closeSearchBarHandler,c=Object(i.g)(),l=Object(n.useContext)(B),s=l.searchState,o=l.inputHandler,u=l.setCurrentPage,m=Object(n.useCallback)((function(e){var t=e.target.value,a=t.length>0;o("search",t,a),u(1)}),[o,u]),d=Object(n.useCallback)((function(e){e.preventDefault(),c.push("/search"),a&&a()}),[c,a]);return r.a.createElement("form",{className:t?"searchMobileForm":"searchForm"},r.a.createElement("input",{className:"search-input",value:s.inputs.search.value,type:"text",placeholder:"Search...",onChange:m}),r.a.createElement("button",{className:"search",type:"submit",onClick:d,disabled:!s.isValid},r.a.createElement("span",{className:"search-emoji",role:"img","aria-label":"emoji"},r.a.createElement(me.a,{icon:pe.b}))))}),Be=(a(100),a(52));function ze(e){var t=e.title,a=e.userId,c=e.exit,l=e.friendCount,i=Object(n.useContext)(j),o=Object(n.useState)(!1),u=Object(s.a)(o,2),m=u[0],d=u[1];return ze.handleClickOutside=function(){return d(!1)},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dd-wrapper"},r.a.createElement("div",{className:"dd-header",onClick:function(){return d(!m)}},t),r.a.createElement("div",{className:"dd-list-container"},m&&r.a.createElement("ul",{className:"dd-list",onClick:c},r.a.createElement(ie,{to:"/".concat(a,"/places"),onClick:function(){return d(!1)},white:!0},"PLACES"),r.a.createElement(ie,{to:"/".concat(a,"/bucketlist"),onClick:function(){return d(!1)},white:!0},"BUCKET LIST"),r.a.createElement(ie,{to:"/".concat(a,"/profile"),onClick:function(){return d(!1)},white:!0},"PROFILE"),r.a.createElement(ie,{to:"/".concat(a,"/FriendsList"),onClick:function(){return d(!1)},white:!0},1===l?"FRIEND":"FRIENDS"),r.a.createElement(ie,{onClick:i.logout,white:!0},"LOGOUT")))))}var De={handleClickOutside:function(){return ze.handleClickOutside}},Me=Object(Be.a)(ze,De),Ve=(a(101),function(e){var t=Object(n.useContext)(j);return r.a.createElement("ul",{className:"nav-links"},t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(o.c,{to:"/",exact:!0},"ALL USERS")),t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(Me,{exit:e.onClick,userId:t.userId,title:"MY ACCOUNT"})),t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(o.c,{to:"/places/new"},"ADD PLACE")))}),Ue=(a(102),function(e){var t=r.a.createElement(N.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return l.a.createPortal(t,document.getElementById("drawer-hook"))}),Re=a(122),Ge=a(53),_e=a.n(Ge);a(103);var Ze,Fe=function(){var e=Object(n.useContext)(j),t=Object(n.useContext)(z).setNotifFollower,a=k(),c=a.isLoading,l=a.error,i=a.sendRequest,o=a.clearError,m=Object(n.useState)(!1),d=Object(s.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)([]),h=Object(s.a)(f,2),v=h[0],b=h[1],C=Object(n.useState)(!1),N=Object(s.a)(C,2),y=N[0],I=N[1];Object(n.useEffect)((function(){(function(){var t=Object(O.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("http://localhost:5000/api/friends/requests/".concat(e.userId));case 3:a=t.sent,b(a.friendRequests),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[i,e.userId,y]);var P=function(){var a=Object(O.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i("http://localhost:5000/api/friends/requests/accept","PATCH",JSON.stringify({userId:e.userId,friendId:n}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 3:t((function(e){return e+1})),I(!y),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),T=function(){var a=Object(O.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i("http://localhost:5000/api/friends/requests/reject","DELETE",JSON.stringify({userId:e.userId,friendId:n}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 3:t((function(e){return e+1})),I(!y),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notif"},r.a.createElement("button",{className:"nav-links__button-not",onClick:function(){return E(!0)}},r.a.createElement(Re.a,{color:"error",badgeContent:v.length},r.a.createElement("abbr",{title:"Notifications"},r.a.createElement(_e.a,{className:"nav-links__not"}))))),r.a.createElement(A,{error:l,onClear:o}),r.a.createElement(x,{className:"scroll",show:p,onCancel:function(){return E(!1)},footerClass:"place-item__modal-actions",header:"Friend Requests"},r.a.createElement("div",{style:{textAlign:"center"}},c&&r.a.createElement(w,null)),v.length>0?v.map((function(e){return r.a.createElement("li",{className:"friendList",key:e.userId},r.a.createElement(u,{image:e.image,alt:e.name,width:"50px"}),r.a.createElement("p",null,e.name.charAt(0).toUpperCase()+e.name.slice(1)+" ","has sent you a friend request"),r.a.createElement(S,{inverse:!0,onClick:function(){P(e.userId)}},"Confirm"),r.a.createElement(S,{danger:!0,onClick:function(){T(e.userId)}},"Reject"))})):r.a.createElement("p",null,"No Friend Request")))},Qe=(a(106),function(e){var t=Object(n.useContext)(j),a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],E=function(){i(!1)};return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(y,{onClick:E}),r.a.createElement(Ue,{show:l},r.a.createElement("nav",{className:"main-navigation__drawer-nav"},r.a.createElement(Ve,{onClick:E}))),r.a.createElement(Te,null,r.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){i(!0)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("h1",{className:"main-navigation__title"},r.a.createElement("img",{src:Pe.a,alt:"logo",className:"main-navigation__logo"}),r.a.createElement(o.b,{to:"/"},"Placebook")),t.isLoggedIn&&r.a.createElement("nav",{className:"main-navigation__header-mobile-search"},r.a.createElement("button",{className:"search mobile",type:"submit",onClick:function(){p((function(e){return!e})),console.log(d)}},r.a.createElement("span",{className:"search-emoji mobile",role:"img","aria-label":"emoji"},r.a.createElement(me.a,{icon:pe.b}))),r.a.createElement(N.a,{classNames:"slide-in-top",in:d,mountOnEnter:!0,unmountOnExit:!0,timeout:200},r.a.createElement(Le,{isMobile:!0,closeSearchBarHandler:p}))),t.isLoggedIn&&r.a.createElement("div",null,r.a.createElement("nav",{className:"main-navigation__header-search"},r.a.createElement(Le,null))),r.a.createElement("nav",{className:"main-navigation__header-nav"},r.a.createElement(Ve,null)),t.isLoggedIn&&r.a.createElement("nav",null,r.a.createElement(Fe,null))))}),qe=a(34),Ye=(a(107),function(e){var t=Object(n.useContext)(B),a=t.searchState,c=t.currentPage,l=t.setCurrentPage,i=a.inputs.search.value,o=Object(n.useState)([]),u=Object(s.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)([]),E=Object(s.a)(p,2),f=E[0],h=E[1],v=Object(n.useState)(5),b=Object(s.a)(v,1)[0],j=Object(n.useState)({all:!0,users:!1,places:!1}),N=Object(s.a)(j,2),y=N[0],I=N[1],x=k(),S=x.isLoading,P=x.error,T=x.sendRequest,z=x.clearError,D=c*b,M=D-b,V=function(e){var t=e.target.id;I(Object(F.a)({all:!1,users:!1,places:!1},t,!0)),l(1)};Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("".concat("http://localhost:5000/api","/search?q=").concat(i));case 3:return t=e.sent,e.t0=d,e.next=7,t.users;case 7:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=h,e.next=12,t.places;case 12:e.t3=e.sent,(0,e.t2)(e.t3),e.next=18;break;case 16:e.prev=16,e.t4=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[T,i]);var U=[].concat(Object(qe.a)(m),Object(qe.a)(f));U.sort((function(e,t){return e.id>t.id?1:-1}));var R,G=(U=U.slice(M,D)).filter((function(e){return e.email})),_=U.filter((function(e){return e.location})),Z=m.slice(M,D),Q=f.slice(M,D),q=function(e){return l(e)};return R=""===i?r.a.createElement(C,{className:"search-not-found"},r.a.createElement("span",null," Please enter at least one character! ")):r.a.createElement("div",null,P&&r.a.createElement(A,{error:P,onClear:z}),!S&&!m.length&&!f.length&&r.a.createElement(C,{className:"search-not-found"},r.a.createElement("span",null," No users or places found similar to '",i,"'!")),!S&&y.all&&!!G.length&&r.a.createElement(L,{items:G}),!S&&y.all&&!!_.length&&r.a.createElement(se,{items:_,forSearchResults:!0}),!S&&y.users&&!!Z.length&&r.a.createElement(L,{items:Z}),!S&&y.places&&!!Q.length&&r.a.createElement(se,{items:Q,forSearchResults:!0})),r.a.createElement("div",{className:"margin-auto"},r.a.createElement("div",{className:"center padding-y"},r.a.createElement("button",{className:"button ".concat(y.all?"active":""),id:"all",onClick:V},"All (",""===i?0:m.length+f.length,")"),r.a.createElement("button",{className:"button ".concat(y.users?"active":""),id:"users",onClick:V},"Users"),r.a.createElement("button",{className:"button ".concat(y.places?"active":""),id:"places",onClick:V},"Places")),S&&r.a.createElement("div",{className:"center"},r.a.createElement(w,null)),R,""!==i&&y.users&&r.a.createElement(ge,{postsPerPage:b,totalPosts:m.length,paginate:q,currentPage:c}),""!==i&&y.places&&r.a.createElement(ge,{postsPerPage:b,totalPosts:f.length,paginate:q,currentPage:c}),""!==i&&y.all&&r.a.createElement(ge,{postsPerPage:b,totalPosts:m.length+f.length,paginate:q,currentPage:c}))});function He(){var e,t=Object(i.h)().userId,a=Object(n.useState)(),c=Object(s.a)(a,2),l=c[0],u=c[1],m=Object(n.useState)(0),d=Object(s.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(5),h=Object(s.a)(f,2),v=h[0],b=h[1],j=Object(n.useState)(),N=Object(s.a)(j,2),y=N[0],I=N[1],A=k(),P=A.isLoading,T=A.error,L=A.sendRequest,B=A.clearError;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://localhost:5000/api","/places/user/").concat(t));case 3:return a=e.sent,u(a.places),e.next=7,z(a.places,p,v);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[L,t,v,p]),y&&(e=r.a.createElement("ul",{className:"users-list"},y.map((function(e){return r.a.createElement("li",{key:e.id,className:"user-item"},r.a.createElement(C,{className:"user-item__content"},r.a.createElement(o.b,{to:"/".concat(e.id)},r.a.createElement("div",{className:"user-item__info"},r.a.createElement("h2",null,e.title)))))}))));var z=function(e,t,a){I(e.slice(t,a))};return r.a.createElement(r.a.Fragment,null,P&&r.a.createElement(w,null),r.a.createElement(x,{onCancel:B,header:"An Error Occurred!",show:!!T,footer:r.a.createElement(S,{onClick:B},"Okay")},r.a.createElement("p",null,T)),!P&&l&&r.a.createElement(C,{className:"profile-card"},r.a.createElement("h2",null,"Places"),r.a.createElement("hr",null),e,l.length>5&&r.a.createElement("div",null,r.a.createElement(S,{className:"prev",onClick:function(){E(p-5),b(v-5)},disabled:v<6},"Prev"),r.a.createElement(S,{className:"next",onClick:function(){E(p+5),b(v+5)},disabled:v>=l.length},"Next"))))}function Ke(){var e=Object(n.useContext)(j),t=Object(i.h)().userId,a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(),d=Object(s.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(0),h=Object(s.a)(f,2),v=h[0],b=h[1],N=Object(n.useState)(!1),y=Object(s.a)(N,2),I=y[0],A=y[1],P=Object(n.useState)(!1),T=Object(s.a)(P,2),L=T[0],B=T[1],z=k(),D=z.isLoading,M=z.error,V=z.sendRequest,R=z.clearError,G=Object(i.g)(),F=q({name:{value:"",isValid:!1},email:{value:"",isValid:!1},image:{value:"",isValid:!1},password:{value:"",isValid:!1},confirmPassword:{value:"",isValid:!1}},!1),Q=Object(s.a)(F,2),Y=Q[0],H=Q[1];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V("".concat("http://localhost:5000/api","/users/profile/").concat(t));case 3:a=e.sent,E(a.user),console.log(a.user),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[V,t,v]);var K=function(){var e=Object(O.a)(g.a.mark((function e(a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,n=new FormData,Y.inputs.email.isValid&&n.append("email",Y.inputs.email.value),Y.inputs.name.isValid&&n.append("name",Y.inputs.name.value),Y.inputs.image.isValid&&n.append("image",Y.inputs.image.value),Y.inputs.password.isValid&&Y.inputs.password.value===Y.inputs.confirmPassword.value&&n.append("password",Y.inputs.password.value),e.next=9,V("".concat("http://localhost:5000/api","/users/profile/").concat(t),"PATCH",n);case 9:r=e.sent,E(r.user),b(v+1),o(!1),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){B(!1)},X=function(){var a=Object(O.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return B(!1),a.prev=1,a.next=4,V("".concat("http://localhost:5000/api","/users/").concat(t),"DELETE",null,{Authorization:"Bearer "+e.token});case 4:A(!0),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,D&&r.a.createElement(w,null),!I&&r.a.createElement(x,{onCancel:R,header:"An Error Occurred!",show:!!M,footer:r.a.createElement(S,{onClick:R},"Okay")},r.a.createElement("p",null,"Could not loaded User Account Settings ")),r.a.createElement(x,{show:L,onCancel:J,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{danger:!0,onClick:X},"DELETE"),r.a.createElement(S,{inverse:!0,onClick:J},"CANCEL"))},r.a.createElement("p",null,"Do you want to proceed and delete your profile? Please note that it can't be undone thereafter.")),r.a.createElement(x,{onCancel:R,header:"Delete Notification",show:I,footer:r.a.createElement(S,{onClick:function(){A(!1),e.logout(),G.push("/")}},"Okay")},r.a.createElement("p",null,"Your account is deleted!")),!D&&p&&r.a.createElement(C,{className:"profile-card"},r.a.createElement("h2",null,"Profile"),r.a.createElement("hr",null),r.a.createElement("form",{className:"profile",onSubmit:K},!l&&r.a.createElement(u,{image:p.image,alt:p.name}),l&&r.a.createElement(Z,{center:!0,id:"image",onInput:H,errorText:"Please provide an image."}),!l&&r.a.createElement(S,{inverse:!0,onClick:function(e){e.preventDefault(),o(!0)}},"Change Photo"),r.a.createElement(_,{element:"input",id:"name",type:"text",label:"Your Name",validators:[{type:"REQUIRE"}],errorText:"Please enter a name.",initialValue:p.name,onInput:H,onBlur:!0}),r.a.createElement(_,{element:"input",id:"password",type:"password",label:"Password",validators:[U(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:H,placeholder:"Enter your new password",onBlur:!0}),r.a.createElement(_,{element:"input",id:"confirmPassword",type:"password",label:"Confirm Password",validators:[U(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:H,placeholder:"Confirm your new password ",onBlur:!0}),r.a.createElement(_,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[{type:"EMAIL"}],errorText:"Please enter a valid email address.",initialValue:p.email,onInput:H,onBlur:!0}),r.a.createElement(S,{type:"submit",disabled:!(Y.inputs.name.isValid||Y.inputs.email.isValid||Y.inputs.image.isValid||Y.inputs.password.isValid&&Y.inputs.confirmPassword.isValid&&Y.inputs.password.value===Y.inputs.confirmPassword.value)},"SAVE"),r.a.createElement(S,{inverse:!0,type:"button",onClick:function(){b(v+1)},disabled:!(Y.inputs.name.isValid||Y.inputs.email.isValid||Y.inputs.image.isValid||Y.inputs.password.isValid)},"CANCEL")),r.a.createElement(S,{danger:!0,onClick:function(){return B(!0)}},"DELETE ACCOUNT")))}a(108);function Je(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ShowUserProfile"},r.a.createElement(He,null),r.a.createElement(Ke,null)))}var Xe=function(){var e,t=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),l=Object(s.a)(c,2),i=l[0],o=l[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],E=Object(n.useCallback)((function(e,t,a){r(t),p(e);var n=a||new Date((new Date).getTime()+36e5);o(n),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:n.toISOString()}))}),[]),f=Object(n.useCallback)((function(){r(null),o(null),p(null),localStorage.removeItem("userData")}),[]);return Object(n.useEffect)((function(){if(a&&i){var e=i.getTime()-(new Date).getTime();Ze=setTimeout(f,e)}else clearTimeout(Ze)}),[a,f,i]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&E(e.userId,e.token,new Date(e.expiration))}),[E]),{token:a,login:E,logout:f,userId:d}}(),a=t.token,c=t.login,l=t.logout,u=t.userId,m=Object(n.useState)(0),d=Object(s.a)(m,2),p=d[0],E=d[1],f=q({search:{value:"",isValid:!1}},!1),h=Object(s.a)(f,2),b=h[0],g=h[1],O=Object(n.useState)(1),C=Object(s.a)(O,2),k=C[0],w=C[1];return e=a?r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0},r.a.createElement(D,null)),r.a.createElement(i.b,{path:"/:userId/places",exact:!0},r.a.createElement(oe,null)),r.a.createElement(i.b,{path:"/:userId/bucketList",exact:!0},r.a.createElement(he,null)),r.a.createElement(i.b,{path:"/places/new",exact:!0},r.a.createElement(Y,null)),r.a.createElement(i.b,{path:"/places/:placeId",exact:!0},r.a.createElement(je,null)),r.a.createElement(i.b,{path:"/places/:userId/:placeId",exact:!0},r.a.createElement(we,null)),r.a.createElement(i.b,{path:"/:userId/profile",exact:!0},r.a.createElement(Je,null)),r.a.createElement(i.b,{path:"/search",exact:!0},r.a.createElement(Ye,null)),r.a.createElement(i.b,{path:"/:placeId",exact:!0},r.a.createElement(ue,null)),r.a.createElement(i.b,{path:"/:userId/friendsList"},r.a.createElement(Oe,null)),r.a.createElement(i.a,{to:"/"})):r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0},r.a.createElement(v,null),r.a.createElement(Se,null)),r.a.createElement(i.b,{path:"/:userId/places",exact:!0},r.a.createElement(oe,null)),r.a.createElement(i.b,{path:"/:userId/bucketList",exact:!0},r.a.createElement(he,null)),r.a.createElement(i.b,{path:"/auth"},r.a.createElement(v,null),r.a.createElement(Se,null)),r.a.createElement(i.b,{path:"/search"},r.a.createElement(Ye,null)),r.a.createElement(i.a,{to:"/auth"})),r.a.createElement(j.Provider,{value:{isLoggedIn:!!a,token:a,userId:u,login:c,logout:l}},r.a.createElement(B.Provider,{value:{searchState:b,inputHandler:g,currentPage:k,setCurrentPage:w}},r.a.createElement(z.Provider,{value:{notifFollower:p,setNotifFollower:E}},r.a.createElement(o.a,null,r.a.createElement(Qe,null),r.a.createElement("main",null,e),!a&&r.a.createElement(i.a,{to:"/"})))))};l.a.render(r.a.createElement(Xe,null),document.getElementById("root"))}]),[[56,1,2]]]);
//# sourceMappingURL=main.e8b926d4.chunk.js.map